function cancelFormProfileLive(e){document.querySelector("#form-profile-readonly").classList.remove("dn"),document.querySelector(".profile-cart__last-line").classList.remove("dn"),document.querySelector(".profile-cart__title").classList.remove("dn"),document.querySelector("#form-profile-live").classList.add("dn"),document.querySelector(".list-actions").classList.add("dn")}function makeLoadLine(e,t){document.querySelector(".load-line").style.transition=t+"s",document.querySelector(".load-line").style.transform="scaleX("+e/100+")"}function attachFilesHandler(e){const t=document.createElement("div");t.classList.add("chat__wrap-attach-imgs");for(let s=0;s<e.target.files.length;s++){const n=e.target.files[s],c=document.createElement("div");c.classList.add("wrap-img");const l=new FileReader;l.onload=function(){c.dataset.counter=s,c.innerHTML=`\n        <img src="${l.result}" alt="">\n        <button class="delete-this-img">\n          <svg width="10" height="10">\n            <use xlink:href='./assets/svg/svg_sprite.svg#icon-close'></use> \n          </svg>\n        </button>\n      `,c.querySelector(".delete-this-img").addEventListener("click",(function(e){console.log(e.target.closest(".wrap-img").dataset.counter),e.target.closest(".wrap-img").remove()}))},l.readAsDataURL(n),t.appendChild(c)}document.querySelector(".chat__main-footer").appendChild(t)}function sendMessage(e,t,s){const n=document.createElement("li");n.classList.add("list-messages__item"),null!=e&&null==t?(n.innerHTML=`<div class="message message-client">\n      <div class="message__text">${e}</div>\n      <div class="message__time">${s}</div> \n    </div>`,document.querySelector(".chat__wrap-input .textarea").value=""):null==e&&null!=t?(n.innerHTML=`<div class="message message-client"> \n      <div class="message__time">${s}</div>\n      <div class="message__imgs"></div>\n    </div>`,t.forEach((e=>{const t=document.createElement("a");t.classList.add("wrap-img"),t.setAttribute("download","download"),t.href=e.src,t.innerHTML=`<img src="${e.src}" alt="">`,n.querySelector(".message__imgs").appendChild(t)})),document.querySelectorAll(".chat__wrap-attach-imgs").forEach((e=>{e.remove()})),document.querySelector(".chat__wrap-input .btn-load-file input").value=""):null!=e&&null!=t&&(n.innerHTML=`<div class="message message-client">\n      <div class="message__text">${e}</div>\n      <div class="message__time">${s}</div> \n      <div class="message__imgs"></div>\n    </div>`,t.forEach((e=>{const t=document.createElement("a");t.classList.add("wrap-img"),t.setAttribute("download","download"),t.href=e.src,t.innerHTML=`<img src="${e.src}" alt="">`,n.querySelector(".message__imgs").appendChild(t)})),document.querySelector(".chat__wrap-input .textarea").value="",document.querySelectorAll(".chat__wrap-attach-imgs").forEach((e=>{e.remove()})),document.querySelector(".chat__wrap-input .btn-load-file input").value=""),document.querySelector(".list-messages").appendChild(n),window.autosizeTextarea(),document.querySelector(".chat__main-messages").scrollTo({top:document.querySelector(".list-messages").getBoundingClientRect().height,behavior:"smooth"})}console.log("Hello from custom-js.js file"),window.onresize=()=>{setTimeout((()=>{console.log(window.innerWidth)}),1)},window.matchMedia("(max-width: 640px)").matches,document.querySelector("#cancel-form-profile-live")&&document.querySelector("#cancel-form-profile-live").addEventListener("click",cancelFormProfileLive),document.querySelector(".load-line")&&(window.makeLoadLine=function(e,t){makeLoadLine(e,t)}),document.querySelector(".available-table .btn--look")&&document.querySelectorAll(".available-table .btn--look").forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.closest("tr"),s=t.classList.contains("open"),n=document.querySelector(".page-available__aside"),c=t.querySelector(".user-info");window.matchMedia("(max-width: 1000px)").matches||(c.style.height=n.getBoundingClientRect().height+"px",c.style.width=n.getBoundingClientRect().width+"px"),document.querySelectorAll(".available-table tr").forEach((e=>{e==t&&s||e!=t||s?e.classList.remove("open"):e.classList.add("open")}))}))})),document.querySelector(".btn-menu")&&(document.querySelector(".btn-menu").addEventListener("click",(function(){document.querySelector(".alt-menu").classList.toggle("open")})),document.querySelector(".alt-menu__close").addEventListener("click",(function(){document.querySelector(".alt-menu").classList.remove("open")})),document.querySelector(".alt-menu").addEventListener("click",(function(e){e.target.classList.contains("alt-menu")&&document.querySelector(".alt-menu").classList.remove("open")}))),document.querySelector(".chats-list")&&(document.querySelector(".chats-list").addEventListener("click",(function(e){e.target.closest(".delete")?e.target.closest(".chats-list__item").remove():e.target.closest(".chats-list__item")&&(document.querySelectorAll(".chats-list__item").forEach((e=>{e.classList.remove("open")})),e.target.closest(".chats-list__item").classList.add("open"),document.querySelector(".chat__aside").classList.add("mob-hide"))})),document.querySelector(".chat__main .arr-back").addEventListener("click",(function(){document.querySelector(".chat__aside").classList.remove("mob-hide"),document.querySelectorAll(".chats-list__item").forEach((e=>{e.classList.remove("open")}))})),document.querySelector(".chat__wrap-input .btn-submit").addEventListener("click",(function(){const e=document.querySelector(".chat__wrap-input .textarea").value,t=document.querySelectorAll(".chat__wrap-attach-imgs img"),s=0==e.length,n=0==t.length,c=new Date,l=(c.getHours()<10?"0"+c.getHours():c.getHours())+":"+(c.getMinutes()<10?"0"+c.getMinutes():c.getMinutes());s&&n?console.log("Строка для отправки и прикреплённые изображеня пусты"):!s&&n?(console.log("Только строка"),sendMessage(e,null,l)):s&&!n?(console.log("Только Изображения"),sendMessage(null,t,l)):s||n||(console.log("И строка и изображения"),sendMessage(e,t,l))})),document.querySelector(".chat__wrap-input .btn-load-file input").addEventListener("change",attachFilesHandler));